<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>用户详情</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" th:href="@{/css/admin.css}">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="/admin/dashboard">管理员仪表板</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/books}">图书管理</a></li>
        <li class="nav-item"><a class="nav-link active" th:href="@{/admin/users}">用户管理</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/reports}">报告生成</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/settings}">系统设置</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/admin/logs}">活动日志</a></li>
        <li class="nav-item"><a class="nav-link" th:href="@{/logout}">退出登录</a></li>
      </ul>
    </div>
  </div>
</nav>
<div class="container mt-4">
  <h1>用户详情</h1>
  <form th:action="@{/admin/users/update}" method="post" th:object="${user}">
    <input type="hidden" th:field="*{id}"/>
    <div class="mb-3">
      <label for="username" class="form-label">用户名:</label>
      <input type="text" id="username" th:field="*{username}" class="form-control" required>
    </div>
    <div class="mb-3">
      <label for="password" class="form-label">密码:</label>
      <input type="password" id="password" th:field="*{password}" class="form-control" required>
    </div>
    <div class="mb-3">
      <label for="role" class="form-label">角色:</label>
      <select id="role" th:field="*{role}" class="form-select" required>
        <option value="USER">普通用户</option>
        <option value="admin">管理员</option>
      </select>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">邮箱:</label>
      <input type="email" id="email" th:field="*{email}" class="form-control">
    </div>
    <div class="mb-3">
      <label for="gender" class="form-label">性别:</label>
      <input type="text" id="gender" th:field="*{gender}" class="form-control">
    </div>
    <div class="mb-3">
      <label for="avatar" class="form-label">头像:</label>
      <input type="text" id="avatar" th:field="*{avatar}" class="form-control">
    </div>
    <button type="submit" class="btn btn-primary">保存</button>
  </form>
  <form th:action="@{/admin/users/delete}" method="post" class="mt-3">
    <input type="hidden" name="userId" th:value="${user.id}"/>
    <button type="submit" onclick="return confirm('确定删除此用户吗？')" class="btn btn-danger">删除</button>
  </form>
</div>
</body>
</html>